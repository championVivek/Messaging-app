{"version":3,"sources":["context/userContext.jsx","components/navbar/navbaar.jsx","components/misc/ErrorNotice.jsx","axios.js","components/LoginForm/loginForm.jsx","components/SignupForm/signupForm.jsx","components/services/services.jsx","components/MessagingPage/messaging.jsx","components/Home/home.jsx","App.js","index.js"],"names":["createContext","Navbaar","history","useHistory","useContext","UserContext","userData","setUserData","Navbar","collapseOnSelect","expand","bg","variant","sticky","Brand","Toggle","aria-controls","Collapse","id","className","user","Nav","Link","onClick","token","undefined","displayname","localStorage","setItem","push","ErrorNotice","props","message","instance","axios","create","baseURL","LoginForm","useState","userEmail","setUserEmail","userPassword","setUserPassword","error","setError","handleSubmit","e","a","preventDefault","post","email","password","loginRes","data","response","msg","Container","style","display","justifyContent","paddingTop","Form","width","onSubmit","Label","fontSize","Group","controlId","Control","type","placeholder","onChange","target","value","Button","as","to","SignupForm","userName","setUserName","userGender","setUserGender","name","gender","paddingBottom","Row","column","sm","Col","Check","label","socket","socketIOClient","Messaging","setResponse","setMsg","messageEl","useRef","useEffect","current","addEventListener","event","currentTarget","scroll","top","scrollHeight","behavior","on","username","time","off","ref","map","index","ReactEmoji","emojify","currentDate","Date","currentTime","getHours","getMinutes","emit","InputGroup","Append","Home","App","getItem","headers","get","userRes","checkLoggedIn","Fragment","Provider","path","component","ReactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.f16f82c9.chunk.js","sourcesContent":["import { createContext } from 'react'\r\n\r\nexport default createContext({})","import React, { useContext } from \"react\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport UserContext from \"../../context/userContext\";\r\n\r\nexport default function Navbaar() {\r\n  const history = useHistory();\r\n  const { userData, setUserData } = useContext(UserContext);\r\n  const logout = () => {\r\n    setUserData({ token: undefined, user: undefined, displayname: undefined });\r\n    localStorage.setItem(\"auth-token\", \"\");\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\" sticky>\r\n      <Navbar.Brand>MESSAGING</Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n      <Navbar.Collapse\r\n        id=\"responsive-navbar-nav\"\r\n        className=\"justify-content-end\"\r\n      >\r\n        {userData.user ? (\r\n          <Nav>\r\n            <Nav.Link onClick={logout}>LogOut</Nav.Link>\r\n          </Nav>\r\n        ) : (\r\n          <Nav>\r\n            {/* <Nav.Link as={Link} to=\"/signup\">\r\n              Signup\r\n            </Nav.Link> */}\r\n          </Nav>\r\n        )}\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function ErrorNotice(props) {\r\n  return <div className=\"alert alert-danger\">{props.message}</div>;\r\n}\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: '',\r\n});\r\n\r\nexport default instance;\r\n","import { React, useState, useContext } from \"react\";\r\nimport UserContext from \"../../context/userContext\";\r\nimport { useHistory, Link } from \"react-router-dom\";\r\nimport { Form, Button, Container } from \"react-bootstrap\";\r\nimport ErrorNotice from \"../misc/ErrorNotice\";\r\nimport axios from \"../../axios\";\r\n\r\nexport default function LoginForm() {\r\n  const [userEmail, setUserEmail] = useState();\r\n  const [userPassword, setUserPassword] = useState();\r\n  const { setUserData } = useContext(UserContext);\r\n  const [error, setError] = useState();\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const loginRes = await axios.post(\"/login\", {\r\n        email: userEmail,\r\n        password: userPassword,\r\n      });\r\n      setUserData({ token: loginRes.data.token, user: loginRes.data.user });\r\n      localStorage.setItem(\"auth-token\", loginRes.data.token);\r\n      history.push(\"/messaging\");\r\n    } catch (err) {\r\n      err.response.data.msg && setError(err.response.data.msg);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container\r\n      style={{ display: \"flex\", justifyContent: \"center\", paddingTop: \"5rem\" }}\r\n    >\r\n      <Form style={{ width: \"50rem\" }} onSubmit={handleSubmit}>\r\n        <Form.Label style={{ fontSize: \"3rem\" }}>Login</Form.Label>\r\n        {error && <ErrorNotice message={error} />}\r\n        <Form.Group controlId=\"formGroupEmail\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            placeholder=\"Enter email\"\r\n            onChange={(e) => setUserEmail(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"formGroupPassword\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            onChange={(e) => setUserPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Button variant=\"success\" type=\"submit\">\r\n          Login\r\n        </Button>{\" \"}\r\n        <Button variant=\"secondary\" type=\"submit\" as={Link} to=\"/signup\">\r\n          Create an account\r\n        </Button>\r\n      </Form>\r\n    </Container>\r\n  );\r\n}\r\n","import { React, useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { Form, Button, Container, Col, Row } from \"react-bootstrap\";\r\nimport ErrorNotice from \"../misc/ErrorNotice\";\r\nimport axios from \"../../axios\";\r\n\r\nexport default function SignupForm() {\r\n  const [userName, setUserName] = useState();\r\n  const [userEmail, setUserEmail] = useState();\r\n  const [userPassword, setUserPassword] = useState();\r\n  const [userGender, setUserGender] = useState();\r\n  const [error, setError] = useState();\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post(\"/signup\", {\r\n        name: userName,\r\n        gender: userGender,\r\n        email: userEmail,\r\n        password: userPassword,\r\n      });\r\n      history.push(\"/login\");\r\n    } catch (err) {\r\n      err.response.data.msg && setError(err.response.data.msg);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container\r\n      style={{ display: \"flex\", justifyContent: \"center\", paddingTop: \"2rem\", paddingBottom: \"8%\" }}\r\n    >\r\n      <Form style={{ width: \"50rem\" }} onSubmit={handleSubmit}>\r\n        <Form.Label style={{ fontSize: \"3rem\" }}>Signup</Form.Label>\r\n        {error && <ErrorNotice message={error} />}\r\n        <Form.Group controlId=\"formGroupName\">\r\n          <Form.Label>Name</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter name\"\r\n            onChange={(e) => setUserName(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <fieldset>\r\n          <Form.Group as={Row}>\r\n            <Form.Label as=\"legend\" column sm={2}>\r\n              Gender\r\n            </Form.Label>\r\n            <Col sm={10}>\r\n              <Form.Check\r\n                type=\"radio\"\r\n                label=\"Male\"\r\n                name=\"formHorizontalRadios\"\r\n                id=\"formHorizontalRadios1\"\r\n                onChange={(e) => setUserGender(\"Male\")}\r\n              />\r\n              <Form.Check\r\n                type=\"radio\"\r\n                label=\"Female\"\r\n                name=\"formHorizontalRadios\"\r\n                id=\"formHorizontalRadios2\"\r\n                onChange={(e) => setUserGender(\"Female\")}\r\n              />\r\n            </Col>\r\n          </Form.Group>\r\n        </fieldset>\r\n        <Form.Group controlId=\"formGroupEmail\">\r\n          <Form.Label>Email</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter email\"\r\n            onChange={(e) => setUserEmail(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"formGroupPassword\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            onChange={(e) => setUserPassword(e.target.value)}\r\n          />\r\n        </Form.Group>\r\n        <Button variant=\"success\" type=\"submit\">\r\n          Signup\r\n        </Button>{\" \"}\r\n        <Button variant=\"secondary\" type=\"submit\" as={Link} to=\"/login\">\r\n          Already have an account?\r\n        </Button>\r\n      </Form>\r\n    </Container>\r\n  );\r\n}\r\n","import socketIOClient from 'socket.io-client'\r\n\r\n export const socket = socketIOClient('')\r\n\r\n\r\n\r\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\r\nimport ReactEmoji from \"react-emoji\";\r\nimport { Form, Button, InputGroup } from \"react-bootstrap\";\r\nimport UserContext from \"../../context/userContext\";\r\nimport { socket } from \"../services/services\";\r\nimport LoginForm from \"../LoginForm/loginForm\";\r\nimport \"./messaging.css\";\r\n\r\nexport default function Messaging() {\r\n  const [response, setResponse] = useState([]);\r\n  const [message, setMsg] = useState(\"\");\r\n  const messageEl = useRef(null);\r\n  const { userData } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    if (userData.user) {\r\n      if (messageEl) {\r\n        messageEl.current.addEventListener(\"DOMNodeInserted\", (event) => {\r\n          const { currentTarget: target } = event;\r\n          target.scroll({ top: target.scrollHeight, behavior: \"smooth\" });\r\n        });\r\n      }\r\n    }\r\n    socket.on(\"chat_rcvd\", (data) => {\r\n      setResponse([\r\n        ...response,\r\n        {\r\n          message: data.msg,\r\n          username: data.user,\r\n          time: data.time,\r\n          id: data.id,\r\n        },\r\n      ]);\r\n    });\r\n    return () => socket.off(\"chat_rcvd\");\r\n  }, [response, userData.user]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (message === \"\") {\r\n      return;\r\n    }\r\n    var currentDate = new Date();\r\n    var currentTime = currentDate.getHours() + \":\" + currentDate.getMinutes();\r\n    socket.emit(\"chats\", {\r\n      msg: message,\r\n      username: userData.user.displayname,\r\n      time: currentTime,\r\n    });\r\n    setMsg(\"\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {userData.user === undefined ? (\r\n        <LoginForm />\r\n      ) : (\r\n        <div className=\"container\">\r\n          <div className=\"chatBox\" ref={messageEl}>\r\n            <div>\r\n              {response.map((response, index) =>\r\n                response.username === userData.user.displayname ? (\r\n                  <div className=\"messageContainer justifyEnd\" key={index}>\r\n                    <div className=\"messageBox backgroundBlue\">\r\n                      <p className=\"messageText colorWhite\">\r\n                        {ReactEmoji.emojify(response.message)}\r\n                      </p>\r\n                      <br />\r\n                      <p className=\"time\">{response.time}</p>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"messageContainer justifyStart\" key={index}>\r\n                    <div className=\"messageBox backgroundLight\">\r\n                      <p className=\"sentText p1-10\">{response.username}</p>\r\n                      <p className=\"messageText colorDark\">\r\n                        {ReactEmoji.emojify(response.message)}\r\n                      </p>\r\n                      <br />\r\n                      <p className=\"time\">{response.time}</p>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"form\">\r\n            <Form onSubmit={handleSubmit}>\r\n              <InputGroup className=\"mb-3\">\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"Enter message\"\r\n                  value={message}\r\n                  onChange={(e) => setMsg(e.target.value)}\r\n                />\r\n                <InputGroup.Append>\r\n                  <Button type=\"submit\">Send</Button>\r\n                </InputGroup.Append>\r\n              </InputGroup>\r\n            </Form>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport UserContext from \"../../context/userContext\";\r\nimport LoginForm from \"../LoginForm/loginForm\";\r\nimport Messaging from \"../MessagingPage/messaging\";\r\n\r\nexport default function Home() {\r\n  const { userData } = useContext(UserContext);\r\n\r\n  return <div>{userData.user ? <Messaging /> : <LoginForm />}</div>;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Navbaar from \"./components/navbar/navbaar\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport LoginForm from \"./components/LoginForm/loginForm\";\r\nimport SignupForm from \"./components/SignupForm/signupForm\";\r\nimport UserContext from \"./context/userContext\";\r\nimport Messaging from \"./components/MessagingPage/messaging\";\r\nimport Home from \"./components/Home/home\";\r\nimport axios from \"./axios\";\r\n\r\nexport default function App() {\r\n  const [userData, setUserData] = useState({\r\n    token: undefined,\r\n    user: undefined,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const checkLoggedIn = async () => {\r\n      let token = localStorage.getItem(\"auth-token\");\r\n      if (token === null) {\r\n        localStorage.setItem(\"auth-token\", \"\");\r\n        token = \"\";\r\n      }\r\n      const tokenRes = await axios.post(\"/tokenisValid\", null, {\r\n        headers: { \"x-auth-token\": token },\r\n      });\r\n\r\n      if (tokenRes.data) {\r\n        const userRes = await axios.get(\"/\", {\r\n          headers: { \"x-auth-token\": token },\r\n        });\r\n        setUserData({\r\n          token,\r\n          user: userRes.data,\r\n        });\r\n      }\r\n    };\r\n    checkLoggedIn();\r\n  }, []);\r\n\r\n  return (\r\n    <Router>\r\n      <React.Fragment>\r\n        <UserContext.Provider value={{ userData, setUserData }}>\r\n          <Navbaar />\r\n          <Switch>\r\n            <Route path=\"/messaging\" component={Messaging} />\r\n            <Route path=\"/signup\" component={SignupForm} />\r\n            <Route path=\"/login\" component={LoginForm} />\r\n            <Route path=\"/\" component={Home} />\r\n          </Switch>\r\n        </UserContext.Provider>\r\n      </React.Fragment>\r\n    </Router>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport ReactDom from \"react-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport App from \"./App\";\r\n\r\nReactDom.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}